if (self.CavalryLogger) { CavalryLogger.start_js(["gKXhD"]); }

__d("DetectBrokenProxyCache",["AsyncSignal","Cookie","URI"],(function a(b,c,d,e,f,g){function h(i,j){var k=c("Cookie").get(j);if(k!=i&&k!=null&&i!="0"){var l={c:"si_detect_broken_proxy_cache",m:j+" "+i+" "+k},m=new(c("URI"))("/common/scribe_endpoint.php").getQualifiedURI().toString();new(c("AsyncSignal"))(m,l).send()}}f.exports={run:h}}),null);
__d("BootloaderEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("bootloader_events:BootloaderEventsLoggerConfig",this.$BootloaderEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("bootloader_events:BootloaderEventsLoggerConfig",this.$BootloaderEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$BootloaderEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$BootloaderEventsTypedLogger1=babelHelpers["extends"]({},this.$BootloaderEventsTypedLogger1,j);return this};h.prototype.setAllResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.all_resources_count=j;return this};h.prototype.setAllResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.all_resources_downloaded=j;return this};h.prototype.setAsyncResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.async_resources_count=j;return this};h.prototype.setAsyncResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.async_resources_downloaded=j;return this};h.prototype.setBlEndpointMode=function(j){this.$BootloaderEventsTypedLogger1.bl_endpoint_mode=j;return this};h.prototype.setBlSampleRate=function(j){this.$BootloaderEventsTypedLogger1.bl_sample_rate=j;return this};h.prototype.setBlockingResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.blocking_resources_count=j;return this};h.prototype.setBlockingResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.blocking_resources_downloaded=j;return this};h.prototype.setCavalryBlCohort=function(j){this.$BootloaderEventsTypedLogger1.cavalry_bl_cohort=j;return this};h.prototype.setCavalryCohort=function(j){this.$BootloaderEventsTypedLogger1.cavalry_cohort=j;return this};h.prototype.setComponents=function(j){this.$BootloaderEventsTypedLogger1.components=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setDuration=function(j){this.$BootloaderEventsTypedLogger1.duration=j;return this};h.prototype.setErrCount=function(j){this.$BootloaderEventsTypedLogger1.err_count=j;return this};h.prototype.setFirstIdenticalRequest=function(j){this.$BootloaderEventsTypedLogger1.first_identical_request=j;return this};h.prototype.setHasNewComponent=function(j){this.$BootloaderEventsTypedLogger1.has_new_component=j;return this};h.prototype.setIsEmployee=function(j){this.$BootloaderEventsTypedLogger1.is_employee=j;return this};h.prototype.setMsSinceNavstart=function(j){this.$BootloaderEventsTypedLogger1.ms_since_navstart=j;return this};h.prototype.setParentLid=function(j){this.$BootloaderEventsTypedLogger1.parent_lid=j;return this};h.prototype.setPkgCohort=function(j){this.$BootloaderEventsTypedLogger1.pkg_cohort=j;return this};h.prototype.setRef=function(j){this.$BootloaderEventsTypedLogger1.ref=j;return this};h.prototype.setRequestPath=function(j){this.$BootloaderEventsTypedLogger1.request_path=j;return this};h.prototype.setRetries=function(j){this.$BootloaderEventsTypedLogger1.retries=j;return this};h.prototype.setSvnRev=function(j){this.$BootloaderEventsTypedLogger1.svn_rev=j;return this};h.prototype.setTimesliceContext=function(j){this.$BootloaderEventsTypedLogger1.timeslice_context=j;return this};h.prototype.setVC=function(j){this.$BootloaderEventsTypedLogger1.vc=j;return this};h.prototype.setWeight=function(j){this.$BootloaderEventsTypedLogger1.weight=j;return this};var i={all_resources_count:true,all_resources_downloaded:true,async_resources_count:true,async_resources_downloaded:true,bl_endpoint_mode:true,bl_sample_rate:true,blocking_resources_count:true,blocking_resources_downloaded:true,cavalry_bl_cohort:true,cavalry_cohort:true,components:true,duration:true,err_count:true,first_identical_request:true,has_new_component:true,is_employee:true,ms_since_navstart:true,parent_lid:true,pkg_cohort:true,ref:true,request_path:true,retries:true,svn_rev:true,timeslice_context:true,vc:true,weight:true};f.exports=h}),null);
__d("BootloaderLoggerUtil",["Arbiter","Bootloader","BootloaderEventsTypedLogger","CurrentUser","ScriptPath","SiteData","performanceNavigationStart"],(function a(b,c,d,e,f,g){var h=null,i={initLogging:function j(k){if(h)return;h=c("Arbiter").subscribe(c("Bootloader").Events.BOOTLOAD,function(l,m){var n=m.start_time,o=babelHelpers.objectWithoutProperties(m,["start_time"]),p=Math.round(n-c("performanceNavigationStart")());new(c("BootloaderEventsTypedLogger"))().setMsSinceNavstart(p).setCavalryCohort(k.cavalry_cohort).setPkgCohort(c("SiteData").pkg_cohort).setWeight(k.sample_rate).setIsEmployee(c("CurrentUser").isEmployee()).setSvnRev(c("SiteData").client_revision).setBlEndpointMode(c("SiteData").be_mode).setRequestPath(c("ScriptPath").getScriptPath()).setCavalryBlCohort(k.cavalry_bl_cohort).setBlSampleRate(k.bl_sample_rate).setParentLid(k.parent_lid).updateData(o).log()})}};f.exports=i}),null);
__d("PrivacyLiteFlyoutBootloader",["regeneratorRuntime","Promise","Deferred","JSResource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i=null,j=null,k={loadFlyout:function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(k._loadFlyout(false));case 2:case"end":return n.stop()}},null,this)},loadFlyoutAsChild:function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(k._loadFlyout(true));case 2:case"end":return n.stop()}},null,this)},_loadFlyout:function l(m){__p&&__p();var n,o,p,q,r,s,t,event,u,v;return c("regeneratorRuntime").async(function w(x){__p&&__p();while(1)switch(x.prev=x.next){case 0:if(!h){x.next=2;break}return x.abrupt("return");case 2:h=true;x.next=5;return c("regeneratorRuntime").awrap(c("Promise").all([c("JSResource")("PrivacyLiteFlyout").__setRef("PrivacyLiteFlyoutBootloader").load(),this._getDeferredFlyoutElements().getPromise(),this._getDeferredFooterElements().getPromise()]));case 5:n=x.sent;o=n[0];p=n[1];q=p.flyout;r=p.flyoutRoot;s=n[2];t=s.footer;event=s.event;u=s.settingsExitPoint;v=s.basicsExitPoint;o.setIsChild(!!m);o.registerFlyoutToggler(q,r);o.registerSettingsAndBasicsLinkLogging(t,event,u,v);o.loadBody();case 19:case"end":return x.stop()}},null,this)},setChildFlyoutVisible:function l(m){__p&&__p();var n,o,p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:if(!(!h&&!m)){t.next=2;break}return t.abrupt("return");case 2:t.next=4;return c("regeneratorRuntime").awrap(c("Promise").all([c("JSResource")("PrivacyLiteFlyout").__setRef("PrivacyLiteFlyoutBootloader").load(),this._getDeferredFlyoutElements().getPromise()]));case 4:n=t.sent;o=n[0];p=n[1];q=p.flyout;r=p._flyoutRoot;if(!(m===o.isFlyoutVisible())){t.next=11;break}return t.abrupt("return");case 11:o.setChildFlyoutVisible(m);o.onToggle(q,m?"show":"hide");case 13:case"end":return t.stop()}},null,this)},_getDeferredFlyoutElements:function l(){if(i==null)i=new(c("Deferred"))();return i},registerFlyoutElements:function l(m,n){this._getDeferredFlyoutElements().resolve({flyout:m,flyoutRoot:n})},_getDeferredFooterElements:function l(){if(j==null)j=new(c("Deferred"))();return j},registerFooterElements:function l(m,event,n,o){this._getDeferredFooterElements().resolve({footer:m,event:event,settingsExitPoint:n,basicsExitPoint:o})}};f.exports=k}),null);
__d("HelpLiteFlyout",["AsyncRequest","CSS","DOM","Event","HelpLiteFlyoutBootloader","PrivacyLiteFlyoutBootloader","Toggler","ge","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i={loadBody:function j(){if(c("ge")("fbHelpLiteFlyoutLoading"))new(c("AsyncRequest"))("/help/ajax/contextual/").setData({page_type:c("HelpLiteFlyoutBootloader").getHelpType()}).send()},refreshHelp:function j(){if(c("ge")("fbHelpLiteFlyoutLoading"))new(c("AsyncRequest"))("/help/ajax/contextual/").setData({page_type:c("HelpLiteFlyoutBootloader").getHelpType(),is_refresh:true}).send()},resetHelp:function j(k){var l=c("ge")("fbContextualHelpContent");if(l)c("DOM").replace(l,k);if(i.isFlyoutVisible())i.refreshHelp()},showHelp:function j(){c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(false);c("CSS").show(c("ge")("fbHelpLiteFlyout"))},openPrivacy:function j(){c("CSS").hide(c("ge")("fbHelpLiteFlyout"));c("PrivacyLiteFlyoutBootloader").loadFlyoutAsChild();c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(true)},registerPrivacyBackLink:function j(k){c("Event").listen(k,"click",i.showHelp)},registerFlyoutToggler:function j(k,l){h=l;var m=c("Toggler").createInstance(k);m.setSticky(false);c("Toggler").listen("hide",l,function(n){c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(false)});c("Toggler").listen("show",l,function(n){i.showHelp()})},isFlyoutVisible:function j(){return h&&c("Toggler").getActive()===h},setFlyoutVisible:function j(k){if(k)c("HelpLiteFlyoutBootloader").loadFlyout();k?c("Toggler").show(h):c("Toggler").hide(h)}};f.exports=i}),null);
__d("FantaHider",["ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={hide:function h(){c("ifRequired")("FantaTabsSlimApp",function(i){i.hide()},function(){c("ifRequired")("FantaTabsReactApp",function(i){i.hide()})})},unhide:function h(){c("ifRequired")("FantaTabsSlimApp",function(i){i.unhide()},function(){c("ifRequired")("FantaTabsReactApp",function(i){i.unhide()})})}}}),null);
__d("ClickRefUtils",["DataAttributeUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h={get_intern_ref:function i(j){__p&&__p();if(!!j){var k={profile_minifeed:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,searchBarClickRef:1};for(var l=j;l&&l!=document.body;l=l.parentNode){if(!l.id||typeof l.id!=="string")continue;if(l.id.substr(0,8)=="pagelet_")return l.id.substr(8);if(l.id.substr(0,8)=="box_app_")return l.id;if(k[l.id])return l.id}}return"-"},get_href:function i(j){var k=j.getAttribute&&(j.getAttribute("ajaxify")||j.getAttribute("data-endpoint"))||j.action||j.href||j.name;return typeof k==="string"?k:null},should_report:function i(j,k){if(k=="FORCE")return true;if(k=="INDIRECT")return false;return j&&(h.get_href(j)||j.getAttribute&&c("DataAttributeUtils").getDataFt(j))}};f.exports=h}),null);
__d("ClickRefLogger",["Arbiter","Banzai","ClickRefUtils","Env","ScriptPath","SessionName","Vector","$","collectDataAttributes","ge","pageID","Cookie"],(function a(b,c,d,e,f,g){__p&&__p();var h={delay:0,retry:true};function i(m){if(!c("ge")("content"))return[0,0,0,0];var n=c("$")("content"),o=c("Vector").getEventPosition(m);return[o.x,o.y,n.offsetLeft,n.clientWidth]}function j(m,n,event,o){__p&&__p();var p="r",q=[0,0,0,0],r,s;if(!!event){r=event.type;if(r=="click"&&c("ge")("content"))q=i(event);var t=0;event.ctrlKey&&(t+=1);event.shiftKey&&(t+=2);event.altKey&&(t+=4);event.metaKey&&(t+=8);if(t)r+=t}if(!!n)s=c("ClickRefUtils").get_href(n);var u=c("collectDataAttributes")(!!event?event.target||event.srcElement:n,["ft","gt"]);Object.assign(u.ft,o.ft);Object.assign(u.gt,o.gt);if(typeof u.ft.ei==="string")delete u.ft.ei;var v=[m._ue_ts,m._ue_count,s||"-",m._context,r||"-",c("ClickRefUtils").get_intern_ref(n),p,b.URI?b.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,u].concat(q).concat(c("pageID")).concat(c("ScriptPath").getScriptPath());return v}c("Arbiter").subscribe("ClickRefAction/new",function(m,n){if(c("ClickRefUtils").should_report(n.node,n.mode)){var o=j(n.cfa,n.node,n.event,n.extra_data);c("Cookie").set("act",n.cfa.ue);var p=[c("SessionName").getName(),Date.now(),"act"];c("Banzai").post("click_ref_logger",Array.prototype.concat(p,o),h)}});function k(m){__p&&__p();function n(v){var w="";for(var x=0;x<v.length;x++)w+=String.fromCharCode(1^v.charCodeAt(x));return w}function o(v,w,x,y){__p&&__p();var z=w[x];if(z&&v&&z in v)if(x+1<w.length)o(v[z],w,x+1,y);else{var A=v[z],B=function B(){setTimeout(y.bind(null,arguments));return A.apply(this,arguments)};B.toString=A.toString.bind(A);Object.defineProperty(v,z,{configurable:false,writable:true,value:B})}}var p={},q={},r=false;function s(v,w){if(q[v])return;q[v]=p[v]=1}var t=m[n("jiri")];if(t){var u=[];n(t).split(",").map(function(v,w){__p&&__p();var x=v.substring(1).split(":"),y;switch(v.charAt(0)){case"1":u.push(function(z){if(window[x[0]])s(w,x[0])});break;case"2":y=new RegExp(x[0]);o(window,x,2,function(z){var A=z[x[1]];if(typeof A==="string"&&y.test(A))s(w,v)});break;case"3":o(window,x,0,function(){for(var z=u.length;z--;)u[z]();var v=Object.keys(p);if(v.length){p={};setTimeout(c("Banzai")[n("qnru")].bind(c("Banzai"),n("islg"),{m:""+v}),5e3)}});break;case"4":r=true;break}})}}try{k(c("Env"))}catch(l){}}),null);
__d("DimensionTracking",["Cookie","Event","debounce","getViewportDimensions","isInIframe"],(function a(b,c,d,e,f,g){function h(){var i=c("getViewportDimensions")();c("Cookie").set("wd",i.width+"x"+i.height)}if(!c("isInIframe")()){setTimeout(h,100);c("Event").listen(window,"resize",c("debounce")(h,250));c("Event").listen(window,"focus",h)}}),null);
__d("AbstractErrorSignal",["invariant","BanzaiODS","ScriptPath","SessionName","SiteData"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=true;function j(){this.constructor!==j||h(0)}j.prototype.logJSError=function(k,l){__p&&__p();l=l||{};l.svn_rev=c("SiteData").client_revision;l.push_phase=c("SiteData").push_phase;l.script_path=c("ScriptPath").getScriptPath();l.extra=l.extra||{};l.extra.hrm=c("SiteData").be_mode;var m=l.extra.type||"error";if(i&&k==="onerror"&&m==="error"){l.extra.extra=l.extra.extra||[];l.extra.extra.push("first_error");i=false}var n=(c("SessionName").getName()||"-")+"/-";this.sendErrorSignal("javascript_error",JSON.stringify({c:k,a:n,m:l}))};j.prototype.sendBeaconErrorSignal=function(){var k="beacon_error",l=(c("SessionName").getName()||"-")+"/-",m={};m.error=k;m.svn_rev=c("SiteData").client_revision;m.push_phase=c("SiteData").push_phase;m.script_path=c("ScriptPath").getScriptPath();m.extra={message:k,type:"info"};this.sendErrorSignal(k,JSON.stringify({c:k,a:l,m:m}))};j.prototype.sendErrorSignal=function(k,l){this.performCounterLogging(k);switch(k){case"async_error":var m=JSON.parse(l),n=m.err_code,o=m.path;if(n in{1004:1,12029:1,12031:1,12152:1}&&o.indexOf("scribe_endpoint.php")==-1)this.performSignalLogging(k,l);break;default:this.performSignalLogging(k,l)}};j.prototype.performCounterLogging=function(k){c("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal.category."+k);switch(k){case"beacon_error":c("BanzaiODS").bumpEntityKey("js_error_reporting","beacon_error_signal.sent");break;case"javascript_error":c("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal.sent");break}};j.prototype.performSignalLogging=function(k,l){h(0)};f.exports=j}),null);
__d("XJavaScriptLogviewSiteCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MBASIC:"m_basic",MTOUCH:"m_touch",WWW:"www"})}),null);
__d("ErrorSignal",["AbstractErrorSignal","AsyncRequest","AsyncSignal","BanzaiODS","ErrorSignalConfig","XJavaScriptLogviewSiteCategory","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractErrorSignal"));i=h&&h.prototype;j.prototype.performCounterLogging=function(l){"use strict";i.performCounterLogging.call(this,l);switch(l){case"javascript_error":c("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal."+c("XJavaScriptLogviewSiteCategory").WWW+".sent");break}};j.prototype.performSignalLogging=function(l,m){"use strict";switch(l){case"async_error":new(c("AsyncRequest"))().setURI(c("ErrorSignalConfig").uri).setData({c:"async_error",m:m}).setMethod("GET").setReadOnly(true).setOption("suppressEvaluation",true).setOption("suppressErrorAlerts",true).setHandler(c("emptyFunction")).setErrorHandler(c("emptyFunction")).send(true);break;default:new(c("AsyncSignal"))(c("ErrorSignalConfig").uri,{c:l,m:m}).send();break}};function j(){"use strict";h.apply(this,arguments)}var k=new j();f.exports=k;b.ErrorSignal=k}),null);
__d("HighContrastMode",["AccessibilityLogger","CSS","CurrentUser","DOM","Style","URI","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h={init:function i(j){__p&&__p();var k=new(c("URI"))(window.location.href);if(k.getPath().indexOf("/intern/")===0)return;if(window.top!==window.self)return;var l=c("DOM").create("div");c("DOM").appendContent(document.body,l);l.style.cssText="border: 1px solid !important;border-color: red green !important;position: fixed;height: 5px;top: -999px;background-image: url("+j.spacerImage+") !important;";var m=c("Style").get(l,"background-image"),n=c("Style").get(l,"border-top-color"),o=c("Style").get(l,"border-right-color"),p=n==o&&m&&(m=="none"||m=="url(invalid-url:)");if(p){c("CSS").conditionClass(document.documentElement,"highContrast",p);if(c("CurrentUser").getID())c("AccessibilityLogger").logHCM()}c("DOM").remove(l);h.init=c("emptyFunction")}};f.exports=h}),null);
__d("TimeSpentArray",["Banzai","TimeSlice","pageID","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=2,i=h*32,j,k,l,m,n,o,p,q,r,s={},t;function u(){return{timeoutDelayMap:s,nextDelay:t,timeoutInSeconds:l}}function v(){if(j){var D=Date.now();if(D>n)p=Math.min(i,Math.ceil(D/1e3-m));var E=A();if(E)j(E,t)}z()}function w(){x();k=c("setTimeoutAcrossTransitions")(c("TimeSlice").guard(v,"TimeSpentArray Timeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),l*1e3)}function x(){if(k){clearTimeout(k);k=null}}function y(D){__p&&__p();m=D;n=m*1e3;o=[1];for(var E=1;E<h;E++)o.push(0);p=1;q+=1;r+=1;var F=r.toString()+"_delay";t=s[F];if(t===undefined)t=s.delay;var G=r.toString()+"_timeout",H=s[G];if(H===undefined)H=s.timeout;H=Math.min(H,i);l=H||i;w()}function z(){x();o=null}function A(){if(!o)return null;return{tos_id:c("pageID"),start_time:m,tos_array:o.slice(0),tos_len:p,tos_seq:r,tos_cum:q}}function B(D){if(D>=n&&D-n<1e3)return;C(Math.floor(D/1e3))}function C(D){__p&&__p();var E=D-m;if(E<0||E>=i)v();if(!o)y(D);else{o[E>>5]|=1<<(E&31);p=E+1;q+=1;n=D*1e3}}f.exports={init:function D(E,F,G){__p&&__p();q=0;r=-1;j=E;if(typeof F=="object"&&F!==null)s=F;else s={};if(!G)G=Date.now();y(Math.floor(G/1e3));c("Banzai").subscribe(c("Banzai").SHUTDOWN,v)},update:function D(E){B(E)},get:function D(){return A()},ship:function D(){v()},reset:function D(){z()},testState:function D(){return u()}}}),null);
__d("TimeSpentImmediateActiveSecondsLogger",["Banzai","ImmediateActiveSecondsConfig","ScriptPath"],(function a(b,c,d,e,f,g){__p&&__p();var h="immediate_active_seconds",i={signal:true,retry:true},j=c("ImmediateActiveSecondsConfig").sampling_rate,k=c("ImmediateActiveSecondsConfig").ias_bucket,l=0;function m(o){if(j<=0)return false;var p=Math.floor(o/1e3)%j;return p===k}function n(o){if(o>=l&&o-l<1e3)return;if(m(o)){var p={activity_time_ms:o,last_activity_time_ms:l,script_path:c("ScriptPath").getTopViewEndpoint()};try{c("Banzai").post(h,p,i)}catch(q){}}l=Math.floor(o/1e3)*1e3}f.exports={maybeReportActiveSecond:n}}),null);
__d("TimeSpentBitArrayLogger",["Arbiter","Banzai","BanzaiODS","TimeSpentArray","TimeSpentConfig","TimeSpentImmediateActiveSecondsLogger","UserActivity","isInIframe"],(function a(b,c,d,e,f,g){__p&&__p();var h={delay:c("Banzai").BASIC.delay,retry:true};function i(j,k){c("Arbiter").inform("timespent/tosbitdataposted",babelHelpers["extends"]({},j));if(typeof k=="number")h.delay=k;else h.delay=c("Banzai").BASIC.delay;c("Banzai").post("time_spent_bit_array",babelHelpers["extends"]({},j),h);h.delay=c("TimeSpentConfig").delay}f.exports={init:function j(k){__p&&__p();if(c("isInIframe")())return;c("UserActivity").subscribe(function(m,n){var o=n.last_inform;c("TimeSpentArray").update(o);c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(o)});var l=Date.now();c("TimeSpentArray").init(i,c("TimeSpentConfig"),l);c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(l);c("BanzaiODS").bumpEntityKey("ms.time_spent.qa.www","time_spent.bits.js_initialized")}}}),null);
__d("ImageTimingHelper",["Arbiter","BigPipe","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={};c("Arbiter").subscribe(c("BigPipe").Events.init,function(j,k){__p&&__p();if(k.lid&&k.lid!=="0")k.arbiter.subscribe("images_displayed",function(j,k){__p&&__p();var l=h[k.lid];if(!l)l=h[k.lid]=[];k.images.forEach(function(m){try{var n=new(c("URI"))(m);m=n.setFragment("").toString()}catch(o){return}if(i[m])return;i[m]=true;l.push({pagelet:k.pagelet,timeslice:k.timeslice,ts:k.ts,uri:m})})})});f.exports.getImageTimings=function(j){return h[j]||[]}}),null);
__d("PageletEventsHelper",["Arbiter","PageletEventConstsJS"],(function a(b,c,d,e,f,g){__p&&__p();var h="BigPipe/init",i="pagelet_event",j="phase_begin",k={},l=[],m=false;function n(){return{pagelets:{},categories:{},phase_start:{},display_resources:{},all_resources:{}}}function o(r,s,t,u){if(k[u].pagelets[s]==undefined)k[u].pagelets[s]={};k[u].pagelets[s][r]=t}function p(r){__p&&__p();r.subscribe(i,function(s,t){__p&&__p();var event=t.event,u=t.ts,v=t.id,w=t.lid,x=t.phase,y=t.categories,z=t.allResources,A=t.displayResources;o(event,v,u,w);var B=k[w],C=B.pagelets[v];if(event===c("PageletEventConstsJS").ARRIVE_END){C.phase=x;B.all_resources[v]=z;B.display_resources[v]=A}if((event===c("PageletEventConstsJS").ONLOAD_END||event===c("PageletEventConstsJS").DISPLAY_END)&&y)y.forEach(function(F){if(B.categories[F]==undefined)B.categories[F]={};B.categories[F][event]=u});for(var D=0,E=l.length;D<E;D++)l[D](v,event,u,w)});r.subscribe(j,function(event,s){k[s.lid].phase_start[s.phase]=s.ts})}var q={init:function r(){if(m)return;c("Arbiter").subscribe(h,function(event,s){var t=s.lid,u=s.arbiter;k[t]=n();p(u)});m=true},getMetrics:function r(s){if(k[s])return JSON.parse(JSON.stringify(k[s]));return null},subscribeToPageletEvents:function r(s){l.push(s);return{remove:function t(){l.splice(0,l.indexOf(s))}}}};f.exports=q}),null);
__d("KappaWrapper",["AsyncSignal","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=false;f.exports={forceStart:function i(j,k,l){var m=0,n=function n(){new(c("AsyncSignal"))("/si/kappa/",{Ko:"a"}).send();if(++m<j)c("setTimeoutAcrossTransitions")(n,k*1e3)};c("setTimeoutAcrossTransitions")(n,(k+l)*1e3)},start:function i(j,k,l){if(!h){h=true;this.forceStart(j,k,l)}}}}),null);
__d("Chromedome",["fbt"],(function a(b,c,d,e,f,g,h){__p&&__p();g.start=function(i){__p&&__p();if(i.off||top!==window||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;var j=i.stop||h._("Stop!"),k=i.text||h._("This is a browser feature intended for developers. If someone told you to copy and paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account."),l=i.more||h._("See {url} for more information.",[h.param("url","https://www.facebook.com/selfxss")]);if((window.chrome||window.safari)&&!i.textonly){var m="font-family:helvetica; font-size:20px; ";[[j,i.c1||m+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[k,i.c2||m],[l,i.c3||m],["",""]].map(function(s){setTimeout(console.log.bind(console,"\n%c"+s[0],s[1]))})}else{var n=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"],o=(""+k).match(/.{35}.+?\s+|.+$/g),p=Math.floor(Math.max(0,(n.length-o.length)/2));for(var q=0;q<n.length||q<o.length;q++){var r=n[q];n[q]=r+new Array(45-r.length).join(" ")+(o[q-p]||"")}console.log("\n\n\n"+n.join("\n")+"\n\n"+l+"\n");return}}}),null);
__d("NavigationClickPointHandler",["Event","ScriptPath","collectDataAttributes"],(function a(b,c,d,e,f,g){__p&&__p();var h={getClickPointInfo:function j(k){__p&&__p();var l=null,m=c("collectDataAttributes")(k,["ft"],["href","data-click"]),n=m.normal.href;if(!n||n==="#")return false;var o=m.normal["data-click"];if(l===null&&o)l={click:o};var p=m.ft.tn;if(l===null&&p)l={tn:p};if(l===null&&k.getAttribute){var q=k.getAttribute("class");if(q)l={"class":q}}return l}};function i(event){var j=event.target||event.srcElement,k=h.getClickPointInfo(j);if(k!==false)c("ScriptPath").setClickPointInfo(k)}if(document.documentElement!==null)c("Event").listen(document.documentElement,{click:i});f.exports=h}),null);
__d("ContextualLayerAsyncRelative",["Event","Parent"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._layerSubscription=this._layer.subscribe("show",this._attachListener.bind(this));if(this._layer.isShown())this._attachListener()};h.prototype.disable=function(){"use strict";this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null}};h.prototype._attachListener=function(){"use strict";this._listener=c("Event").listen(this._layer.getRoot(),"click",this._onclick.bind(this))};h.prototype._onclick=function(i){"use strict";__p&&__p();var j=c("Parent").byTag(i.getTarget(),"A");if(!j)return;var k=j.getAttribute("ajaxify"),l=j.href,m=k||l;if(j.rel==="async"||j.rel==="async-post"){e(["AsyncRequest"],function(n){n.bootstrap(m,this._layer.getContext(),j.rel==="async-post")}.bind(this));return false}};Object.assign(h.prototype,{_layerSubscription:null,_listener:null});f.exports=h}),null);
__d("ArtillerySegment",["invariant","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=0;function j(k){"use strict";k||h(0);"category"in k&&"description"in k||h(0);this.$ArtillerySegment1=false;this.$ArtillerySegment2=babelHelpers["extends"]({},k,{id:(i++).toString(36)});this.$ArtillerySegment3=[]}j.prototype.getID=function(){"use strict";return this.$ArtillerySegment2.id};j.prototype.begin=function(){"use strict";this.$ArtillerySegment2.begin=c("performanceAbsoluteNow")();return this};j.prototype.end=function(){"use strict";this.$ArtillerySegment2.end=c("performanceAbsoluteNow")();return this};j.prototype.appendChild=function(){"use strict";!this.$ArtillerySegment1||h(0);for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];l.forEach(function(n){this.$ArtillerySegment3.push(n.getID())}.bind(this));return this};j.prototype.setPosted=function(){"use strict";this.$ArtillerySegment1=true;return this};j.prototype.getPostData=function(){"use strict";return babelHelpers["extends"]({},this.$ArtillerySegment2,{id:this.$ArtillerySegment2.id,children:this.$ArtillerySegment3.slice()})};f.exports=j}),null);
__d("ArtillerySequence",["invariant"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=0;function j(k){"use strict";k||h(0);"description"in k||h(0);this.$ArtillerySequence1=false;this.$ArtillerySequence2=babelHelpers["extends"]({},k,{id:(i++).toString(36)});this.$ArtillerySequence3=[]}j.prototype.getID=function(){"use strict";return this.$ArtillerySequence2.id};j.prototype.addSegment=function(){"use strict";!this.$ArtillerySequence1||h(0);for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];l.forEach(function(n){this.$ArtillerySequence3.push(n.getID())}.bind(this));return this};j.prototype.setPosted=function(){"use strict";this.$ArtillerySequence1=true;return this};j.prototype.getPostData=function(){"use strict";return babelHelpers["extends"]({},this.$ArtillerySequence2,{id:this.$ArtillerySequence2.id,segments:this.$ArtillerySequence3.slice()})};f.exports=j}),null);
__d("ArtilleryTrace",["invariant","ArtillerySegment","ArtillerySequence"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(){"use strict";__p&&__p();this.$ArtilleryTrace1=false;this.$ArtilleryTrace3=undefined;this.$ArtilleryTrace4={};this.$ArtilleryTrace5={};this.$ArtilleryTrace6=[];this.$ArtilleryTrace7=[];this.$ArtilleryTrace8={};this.$ArtilleryTrace9=[];this.$ArtilleryTrace10=null}i.prototype.createSequence=function(j){"use strict";!this.$ArtilleryTrace1||h(0);var k=new(c("ArtillerySequence"))(j);this.$ArtilleryTrace6.push(k);return k};i.prototype.createSegment=function(j){"use strict";!this.$ArtilleryTrace1||h(0);var k=new(c("ArtillerySegment"))(j);this.$ArtilleryTrace7.push(k);return k};i.prototype.markSegment=function(j,k){"use strict";!this.$ArtilleryTrace1||h(0);this.$ArtilleryTrace8[k]=j.getID();return this};i.prototype.connectTrace=function(j,k){"use strict";!this.$ArtilleryTrace1||h(0);k=k||this.$ArtilleryTrace2;k||h(0);this.$ArtilleryTrace9.push({segment:j.getID(),trace:k});return this};i.prototype.setID=function(j,k){"use strict";!this.$ArtilleryTrace2&&!this.$ArtilleryTrace3||h(0);this.$ArtilleryTrace2=j;this.$ArtilleryTrace3=k;return this};i.prototype.getID=function(){"use strict";return this.$ArtilleryTrace2};i.prototype.getArtillery2ID=function(){"use strict";return this.$ArtilleryTrace3};i.prototype.addProperty=function(j,k){"use strict";this.$ArtilleryTrace4[j]=k;return this};i.prototype.addTagset=function(j,k){"use strict";this.$ArtilleryTrace5[j]=k;return this};i.prototype.addActivePolicies=function(j){"use strict";this.addTagset("active_policies",j);this.addTagset("policy",j);return this};i.prototype.getProperty=function(j){"use strict";return this.$ArtilleryTrace4[j]};i.prototype.getTagset=function(j){"use strict";return this.$ArtilleryTrace5[j]};i.prototype.getActivePolicies=function(){"use strict";return this.getTagset("active_policies")};i.prototype.post=function(){"use strict";!this.$ArtilleryTrace1||h(0);this.$ArtilleryTrace1=true;var j=this.$ArtilleryTrace10;if(j)j({id:this.$ArtilleryTrace2,artillery2Id:this.$ArtilleryTrace3,properties:this.$ArtilleryTrace4,tagsets:this.$ArtilleryTrace5,sequences:this.$ArtilleryTrace6.map(function(k){return k.setPosted().getPostData()}),segments:this.$ArtilleryTrace7.map(function(k){return k.setPosted().getPostData()}),marks:Object.assign({},this.$ArtilleryTrace8),connections:this.$ArtilleryTrace9.slice()})};i.prototype.setOnPost=function(j){"use strict";!this.$ArtilleryTrace10||h(0);this.$ArtilleryTrace10=j;return this};i.prototype.isPosted=function(){"use strict";return this.$ArtilleryTrace1};f.exports=i}),null);
__d("Artillery",["invariant","ArtilleryTrace","Banzai","ClientServiceWorkerMessage","Run","ServiceWorkerRegistration","forEachObject","mixInEventEmitter","performance"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=false,j=false,k=[],l,m,n,o={},p={},q=false,r=false;function s(){if(i)return;i=true;c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){u._postAll()})}function t(){m=null;l=null;p={};o={};n=null;r=false}var u={isEnabled:function v(){return j},createTrace:function v(){s();var w=new(c("ArtilleryTrace"))();w.setOnPost(function(x){u.emitAndHold("posttrace",x)});k.push(w);return w},getPageTrace:function v(){__p&&__p();l||h(0);if(n)return n;var w=u.createTrace().setID(l,m);c("forEachObject")(o,function(x,y,z){w.addProperty(y,x)});c("forEachObject")(p,function(x,y,z){w.addTagset(y,x)});n=w;return w},setPageProperties:function v(w){o=w},addPageTagset:function v(w,x){if(n==null)p[w]=x;else n.addTagset(w,x)},setActivePolicies:function v(w){this.addPageTagset("active_policies",w);this.addPageTagset("policy",w)},getPageActivePolicies:function v(){return this.getPageTagset("active_policies")},enableLogServiceWorker:function v(){if(c("ServiceWorkerRegistration").isSupported())q=true},getPageProperty:function v(w){if(n==null)return o[w];else return n.getProperty(w)},getPageTagset:function v(w){if(n==null)return p[w];else return n.getTagset(w)},enable:function v(){j=true;if(!r){c("Run").onLeave(t);r=true}},disable:function v(){j=false},setPageTraceID:function v(w,x){if(l===w&&m===x)return;!l&&!m||h(0);l=w;m=x;if(q&&c("performance")&&c("performance").timing&&c("performance").timing.navigationStart){var y=new(c("ClientServiceWorkerMessage"))("asw-sendStartupData",{traceID:m,windowStart:c("performance").timing.navigationStart},null);y.sendViaController()}},addPiggyback:function v(w,x){if(window.CavalryLogger)window.CavalryLogger.getInstance().addPiggyback(w,x)},_postAll:function v(){k.forEach(function(w){return!w.isPosted()&&w.post()})}};c("mixInEventEmitter")(u,{posttrace:true});f.exports=u}),null);
__d("NavigationMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"})}),null);
__d("ResourceTimingMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"})}),null);
__d("ErrorLogging",["ErrorSignal","ErrorUtils","JSErrorExtra","JSErrorLoggingConfig","JSErrorPlatformColumns","throttle"],(function a(b,c,d,e,f,g){__p&&__p();function h(n){__p&&__p();var o=n.extra||{},p={};Object.keys(c("JSErrorExtra")).forEach(function(q){if(c("JSErrorExtra")[q])p[q]=true});Object.keys(o).forEach(function(q){if(o[q])p[q]=true;else if(p[q])delete p[q]});n.extra=Object.keys(p)}function i(n){if(c("JSErrorPlatformColumns").app_id!==undefined)n.app_id=c("JSErrorPlatformColumns").app_id;if(c("JSErrorPlatformColumns").access_token!==undefined)n.access_token=c("JSErrorPlatformColumns").access_token}function j(n){h(n);i(n);var o=n.category||"onerror";c("ErrorSignal").logJSError(o,{error:n.name||n.message,extra:n})}var k=c("JSErrorLoggingConfig").reportInterval,l=k>0?c("throttle")(j,k,null):j;function m(n){if(n.message&&n.message.toLowerCase().startsWith("script error"))return;l(n)}c("ErrorUtils").addListener(m);f.exports={defaultJSErrorHandler:m}}),null);
__d("ScriptPathLogger",["Banzai","CurrentUser","ScriptPath","TimeSpentPageTransitionCause","URI","isInIframe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="script_path_change",i={scriptPath:null,categoryToken:null,extraData:{}},j=false,k="imp_id";function l(v){__p&&__p();var w=c("URI").getNextURI?c("URI").getNextURI():new(c("URI"))(window.location.href),x=w.getQueryData(),y=w.getPath();if(y.endsWith("/"))y=y.substr(0,y.length-1);var z=m(y,x);if(z){v.content_id=z;return}var A=n(y);if(A!==""){v.dest_topic_feed=A;return}if(o(y)){var B=x.queue_id;if(B)v.dest_srt_queue_id=B;return}}function m(v,w){__p&&__p();if(w.story_fbid)return w.story_fbid;if(w.fbid)return w.fbid;if(w.view==="permalink"&&w.id)return w.id;var x=/\/(posts|videos|notes|groups\/.*\/permalink)\//,y=/^[0-9]+$/;if(x.test(v)){var z=v.split("/"),A=z[z.length-1];if(y.test(A))return A}return""}function n(v){if(!v||v.search("/feed/topics/")==-1)return"";var w=v.split("/");return w[w.length-1]}function o(v){return!!v&&v.search("/intern/review/")!==-1}function p(v,w,x,y){__p&&__p();if(!j||c("isInIframe")())return;var z=c("CurrentUser").isLoggedIn(),A=z?c("Banzai").VITAL:c("Banzai").BASIC;if(z){y=y||{};y.via_banzai_vital="1"}var B={source_path:v.scriptPath,source_token:v.categoryToken,dest_path:w.scriptPath,dest_token:w.categoryToken,impression_id:w.extraData?w.extraData.imp_id:null,cause:x},C=x===c("TimeSpentPageTransitionCause").PAGE_UNLOAD;if(!C)l(B);if(y!=null){var D=y,E=D.snowlift_content_id;if(!C&&E!=null){B.content_id=E;delete y.snowlift_content_id}B.extra_data=y}if(v.scriptPath===null)B.referrer=document.referrer;var F=c("ScriptPath").getClickPointInfo();if(F)B.click_point_info=F;if(v.extraData)for(var G in v.extraData)if(G!=k)B["source_"+G]=v.extraData[G];if(w.extraData)for(var H in w.extraData)if(H!=k)B["dest_"+H]=w.extraData[H];if(v.topViewEndpoint)B.source_endpoint=v.topViewEndpoint;if(w.topViewEndpoint)B.dest_endpoint=w.topViewEndpoint;if(v.restored)B.source_restored=true;c("Banzai").post(h,B,A);c("ScriptPath").setClickPointInfo(null)}function q(){p(c("ScriptPath").getSourcePageInfo()||i,c("ScriptPath").getPageInfo()||i,c("TimeSpentPageTransitionCause").PAGE_LOAD)}function r(v,w,x){p(v,w,c("TimeSpentPageTransitionCause").TRANSITION,x)}function s(){p(c("ScriptPath").getPageInfo()||i,i,c("TimeSpentPageTransitionCause").PAGE_UNLOAD);c("ScriptPath").shutdown()}var t=c("ScriptPath").subscribe(function(v){if(j){var w=v.source,x=v.dest,y=v.cause,z=v.extraData;if(y)p(w||i,x||i,y,z);else if(w)r(w,x||i,z);else q()}});c("Banzai").subscribe(c("Banzai").SHUTDOWN,s);var u={startLogging:function v(){j=true;if(c("ScriptPath").getPageInfo())q()},stopLogging:function v(){j=false;t.remove()},BANZAI_LOGGING_ROUTE:h};f.exports=u}),null);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k){var l={};c("forEachObject")(c("NavigationMetricsEnumJS"),function(m){var n=k[m];if(n)l[m]=n+j});return l}var i={getAsyncRequestTimings:function j(k){if(!k||!c("performance").timing||!c("performance").getEntriesByName)return undefined;var l=c("performance").getEntriesByName(k);if(l.length===0)return undefined;return h(c("performance").timing.navigationStart,l[0])},getNavTimings:function j(){if(!c("performance").timing)return undefined;return h(0,c("performance").timing)}};f.exports=i}),null);
__d("ResourceTimingBootloaderHelper",["Bootloader","ErrorUtils","ImageTimingHelper","Map","ResourceTimingMetricsEnumJS","ResourceTimingsStore","ResourceTypes","Set","URI","forEachObject","isEmpty","performance"],(function aa(ba,a,ca,da,b,ea){__p&&__p();var c=500,d=[],e={},f={},g={},h=[".mp4",".m4v",".mpd","m4a"],i=new(a("Set"))(["bootload","js_exec","start_bootload","tag_bootload"]);function j(s){__p&&__p();for(var t=h,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(s.endsWith(x))return true}return false}function k(s){__p&&__p();var t=new(a("Map"))();a("ResourceTimingsStore").getMapFor(s).forEach(function(u){if(u.requestSent!=null){var v=t.get(u.uri);if(v!=null)v.push(u);else t.set(u.uri,[u])}});t.forEach(function(u){return u.sort(function(v,w){return v.requestSent-w.requestSent})});return t}function l(s,t,u,v){__p&&__p();var w=s.get(t);if(w==null){var x=t.indexOf("?");if(x!==-1){var y=t.substring(0,x);w=s.get(y)}}if(w!=null)for(var z=0;z<w.length;z++){var A=w[z],B=A.requestSent,C=A.responseReceived;if((u==null||B!=null&&B<=u)&&(v==null||C!=null&&C>=v))return w.splice(z,1)[0]}return null}function m(f,s,t,u,v,w,x){__p&&__p();if(!a("performance").timing||!a("performance").getEntriesByType)return null;var y={},z=a("performance").timing.navigationStart;if(t)y=a("ImageTimingHelper").getImageTimings(u).sort(function(Z,$){return Z.ts-$.ts}).reduce(function(Z,$){if(Z[$.uri])return Z;Z[$.uri]=$.pagelet;return Z},{});var A=Array.from(a("performance").getEntriesByType("resource")),B=A.filter(function(H){return H.duration>=0&&H.startTime!=null&&H.startTime+z>s&&(v==null||H.responseEnd==null||H.responseEnd+z<v)});B.sort(function(Z,$){return Z.startTime-$.startTime});var C=B.length,D=0,E=0,F=0,fa=0,ga=0,ha=k(a("ResourceTypes").XHR),ia=k(a("ResourceTypes").CSS),ja=k(a("ResourceTypes").JS);for(var G=0;G<B.length;G++){var H=B[G],I="",J="",K="",L=void 0,ka=H.initiatorType;switch(ka){case"css":case"link":case"script":var M=a("ResourceTimingsStore").parseMakeHasteURL(H.name);if(!M)continue;var la=M[0],N=M[1];if(N==="css"||N==="js"){var ma=N==="css"?ia:ja;L=l(ma,H.name,H.startTime+z,H.responseEnd+z);if(L!=null&&x){J=N;I=L.uid;break}else{J=N;var na=g[H.name]||F++;I=na+"_"+la}}else{var O=p(H.name);K=O[0];J=O[1];I=E+++"_"+K}break;case"img":I=E+++"_"+n(H.name);J="img";break;case"iframe":I=fa+++"_"+n(H.name)+o(H.name);J="iframe";break;case"xmlhttprequest":if(w){var oa=n(H.name),P=o(H.name);if(j(P)){I=ga+++"_"+oa+P;J="video";break}else{L=l(ha,H.name,H.startTime+z,H.responseEnd+z);if(L!=null){J=a("ResourceTypes").XHR;I=L.uid;break}}}default:continue}var Q={},R=Object.keys(a("ResourceTimingMetricsEnumJS"));for(var S=0;S<R.length;S++){var T=a("ResourceTimingMetricsEnumJS")[R[S]],U=H[T];if(U)Q[T]=U+a("performance").timing.navigationStart}if(L!=null){var V=L,W=V.requestSent,X=V.responseReceived;if(s!=null&&W!=null&&W<s||v!=null&&X!=null&&X>v)continue;Q.requestSent=W;Q.responseReceived=X}Q.type=J;Q.desc=I;if(L!=null&&(J===a("ResourceTypes").JS||J===a("ResourceTypes").CSS||J===a("ResourceTypes").XHR)){var Y=a("ResourceTimingsStore").getAnnotationsFor(J,L.uid);if(Y!=null)Q.annotations=Y}if(J=="img"&&Object.prototype.hasOwnProperty.call(y,H.name))Q.pagelet=y[H.name];Q.transferSize=H.transferSize;Q.encodedBodySize=H.encodedBodySize;if(f[H.name]==undefined)f[H.name]=[];D++;f[H.name].push(Q)}if(x)return{numValidEntries:C,numSuccessfulMetrics:D};return null}function n(s){var t=new(a("URI"))(s).getDomain();return t}function o(s){var t=new(a("URI"))(s).getPath();return t}function p(s){return[n(s),"img"]}function q(s){__p&&__p();var t=Object.keys(s).filter(function(v){return v.startsWith("start_bootload/")}).sort(function(v,w){return s[v]-s[w]}).map(function(v){return v.substring(v.indexOf("/")+1)});t.forEach(function(v){return i.forEach(function(w){var x=w+"/"+v;if(s[x]!=null)e[x]=s[x]})});d=d.concat(t);if(d.length>c){var u=d.splice(0,d.length-c);u.forEach(function(v){return i.forEach(function(w){if(e[w+"/"+v])delete e[w+"/"+v]})})}}var r={addPastBootloaderMetricsToResourceTimings:function s(){__p&&__p();var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],g=a("Bootloader").getURLToHashMap();a("forEachObject")(t,function(v,w){__p&&__p();var x=g[w];if(!x)return;var y=new(a("Map"))();y.set("bootloader_hash",x);i.forEach(function(z){var A=z+"/"+x,B=u[A]||e[A];if(B!=null)y.set(z,B)});if(y.size>0)v.forEach(function(z){if(z.requestSent||z.responseReceived)return;y.forEach(function(A,B){return z[B]=A})})})},mergeBootloaderMetricsAndResourceTimings:function s(){__p&&__p();var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],v=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(a("isEmpty")(g))g=a("Bootloader").getURLToHashMap();var w=new(a("Map"))();a("forEachObject")(g,function(y,z){w.set(y,z)});var x=[];a("forEachObject")(u,function(f,y){__p&&__p();var z=y.indexOf("/");if(z===-1)return;var A=y.substring(0,z);if(!i.has(A))return;x.push(y);var B=y.substring(z+1),C=w.get(B);if(!C){C=B;B=g[C];if(!B)return}if(C.startsWith("data:"))C="inlined resource: "+B;if(t[C]==null)t[C]=[{}];t[C].forEach(function(D){D.bootloader_hash=B;D[A]=f})});if(!v){q(u);x.forEach(function(y){return delete u[y]})}return t},getLastTTIAndE2EImageResponseEnds:function s(t,u,v){__p&&__p();var w={TTI:t,E2E:u};if(!a("performance").timing)return w;var x=v.filter(function(A){return A.ts<=t}).map(function(A){return A.uri}).reduce(function(A,z){A[z]=true;return A},{}),y=v.map(function(A){return A.uri}).reduce(function(A,z){A[z]=true;return A},{});for(var z in f)f[z].forEach(function(A){if(A.type==="img"){if(x[z])w.TTI=Math.max(w.TTI,A.responseEnd);if(y[z])w.E2E=Math.max(w.E2E,A.responseEnd)}});return w},getMetrics:function s(t,u,v,w,x,y){f={};if(a("isEmpty")(g))g=a("Bootloader").getURLToHashMap();var z=m(f,t,u,v,w,x,y);return{data:f,diagnostics:z}}};b.exports=r}),null);
__d("PerfXFlusher",["invariant","Banzai"],(function a(b,c,d,e,f,g,h){var i="perfx_custom_logger_endpoint",j=["perfx_page","perfx_page_type","lid"];function k(m){j.forEach(function(n){return h(n in m,'PerfXFlusher: Field "%s" missing in the PerfX payload',n)})}var l={flush:function m(n){k(n);c("Banzai").post(i,n,{signal:true})},registerToSendWithBeacon:function m(n){c("Banzai").registerToSendWithBeacon(i,n)}};f.exports=l}),null);
__d("pageLoadedViaSWCache",[],(function a(b,c,d,e,f,g){function h(){return self.__SW_CACHE__===1}f.exports=h}),null);
__d("PerfXLogger",["ArtilleryOnUntilOffLogging","DataAttributeUtils","NavigationMetrics","NavigationTimingHelper","PerfXFlusher","QuicklingRefreshOverheadUtil","Set","VisibilityListener","forEachObject","pageLoadedViaSWCache","performanceAbsoluteNow","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={},j=65*1e3,k=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded","artillery_disable_time"],l={},m={_listenersSetUp:false,_setupListeners:function n(){__p&&__p();if(this._listenersSetUp)return;this._subscribeToNavigationMetrics();c("PerfXFlusher").registerToSendWithBeacon(function(){var o=[];c("forEachObject")(h,function(p,q){if(!h[q].sent){var r=this.getPayload(q,"unload fired");if(r!=null)o.push(r)}}.bind(this));h={};return o}.bind(this));this._listenersSetUp=true},_init:function n(o){__p&&__p();var p=o.lid;if(p==null)return;var q=i[p]||[];delete i[p];if(o.sw_controlled_tags){if(navigator.serviceWorker&&navigator.serviceWorker.controller)for(var r=0;r<o.sw_controlled_tags.length;r++)q.push(o.sw_controlled_tags[r]);delete o.sw_controlled_tags}h[p]=babelHelpers["extends"]({tags:new(c("Set"))(q),sent:false},o);this._registerTimeoutSendback(p);this._setupListeners()},initWithNavigationMetricsLID:function n(o,p){__p&&__p();var q=c("NavigationMetrics").getFullPageLoadLid();if(!q)return;this._init(babelHelpers["extends"]({},p,{lid:q}));if(o&&o.always)for(var r=0;r<o.always.length;r++)m.addTag(q,o.always[r]);if(o&&o.swCache&&c("pageLoadedViaSWCache")())for(var s=0;s<o.swCache.length;s++)m.addTag(q,o.swCache[s])},init:function n(o,p){if(p!=null&&o.lid!=null)l[o.lid]=p;this._init(o)},addTag:function n(o,p){var q=h[o];if(q){q.tags.add(p);return}if(!i[o])i[o]=[];i[o].push(p)},addTagWithNavigationMetricsLID:function n(o){var p=c("NavigationMetrics").getFullPageLoadLid();if(!p)return;m.addTag(p,o)},_registerTimeoutSendback:function n(o){var p=this._getFetchStart(o),q=j;if(p!=null)q-=c("performanceAbsoluteNow")()-p;c("setTimeoutAcrossTransitions")(function(){return this._uploadPayload(o,"sendback time out")}.bind(this),q)},_subscribeToNavigationMetrics:function n(){__p&&__p();c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.EVENT_OCCURRED,function(o,p){if(!(o in h))return;if(k.includes(p.event)&&Object.prototype.hasOwnProperty.call(p,"timestamp")&&p.timestamp!=null)h[o][p.event]=p.timestamp});c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(o,p){var q=p.serverLID;if(!(q in h))return;k.forEach(function(event){if(Object.prototype.hasOwnProperty.call(p,event)&&p[event]!=null)h[q][event]=p[event]});this._uploadPayload(q)}.bind(this))},_getPayloadWithOffset:function n(o,p,q){__p&&__p();var r=h[o];if(r==null)return null;var s=Object.assign({},r),t=document.querySelector('[id^="hyperfeed_story_id"]');if(t){var u=JSON.parse(c("DataAttributeUtils").getDataFt(t));if(u)s.mf_query_id=u.qid}s.tags=Array.from(r.tags);if(!s.art_id)s.artillery_disable_time=c("ArtilleryOnUntilOffLogging").lastDisableTime();this._adjustValues(s,p);s.fetch_start=p;if(s.perfx_page_type==="normal"){var v=c("NavigationTimingHelper").getNavTimings();if(v!=null&&v.navigationStart!=null)s.nav_to_fetch=p-v.navigationStart;var w=c("QuicklingRefreshOverheadUtil").getOverhead(p);if(w!==null)s.quickling_refresh_overhead=w}if(q!=null)s.sendback_reason=q;if(navigator&&navigator.hardwareConcurrency)s.num_cores=navigator.hardwareConcurrency;if(navigator&&navigator.deviceMemory)s.ram_gb=navigator.deviceMemory;if(navigator&&navigator.connection){if(typeof navigator.connection.downlink==="number")s.downlink_megabits=navigator.connection.downlink;if(typeof navigator.connection.effectiveType==="string")s.effective_connection_type=navigator.connection.effectiveType;if(typeof navigator.connection.rtt==="number")s.rtt_ms=navigator.connection.rtt}if(c("VisibilityListener").supported()&&s.fetch_start&&s.all_pagelets_displayed&&s.tti&&s.e2e){s.tab_hidden_time_dd=c("VisibilityListener").getHiddenTime(s.fetch_start,s.fetch_start+s.all_pagelets_displayed);s.tab_hidden_time_tti=c("VisibilityListener").getHiddenTime(s.fetch_start,s.fetch_start+s.tti);s.tab_hidden_time_e2e=c("VisibilityListener").getHiddenTime(s.fetch_start,s.fetch_start+s.e2e)}delete s.sent;return s},_uploadPayload:function n(o,p){if(h[o]!=null&&!h[o].sent){var q=this.getPayload(o,p);if(q!=null){c("PerfXFlusher").flush(q);h[o].sent=true}}},getPayload:function n(o,p){return this._getPayloadWithOffset(o,this._getFetchStart(o),p)},_getFetchStart:function n(o){__p&&__p();if(!(o in h))return null;var p=void 0,q=h[o].perfx_page_type;if(q=="quickling")if(!(o in l))return null;else p=c("NavigationTimingHelper").getAsyncRequestTimings(l[o]);else p=c("NavigationTimingHelper").getNavTimings();if(!p||!p.fetchStart)return null;return p.fetchStart},_adjustValues:function n(o,p){k.forEach(function(q){if(Object.prototype.hasOwnProperty.call(o,q))o[q]-=p})}};f.exports=m}),null);